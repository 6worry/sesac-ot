<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3 bar</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>
        /* 선택적 스타일링 */
        rect {
            fill: blue;
        }

        text {
            font-size: 15px;
            fill: red;
            text-align: middle;
        }
    </style>
</head>
<body>
    <script>
        //데이터셋 정의
        const dataset = [10, 20, 30, 40, 50];

        //svg 요서 정의
        const svgWidth = 300;
        const svgHeight = 150;
        const svg = d3.select('body').append('svg').attr('width', svgWidth).attr('height', svgHeight);

        // 막대그래프 그리기
        svg.selectAll('rect')
            .data(dataset)
            .enter()
            .append('rect')
            .attr('x', (d, i) => i * 60)
            .attr('y', (d) => svgHeight - d)
            .attr('width', 50)
            .attr('height', (d) => d);

        // 막대 그래프에 텍스트 추가
        svg.selectAll('text')
            .data(dataset)
            .enter()
            .append('text')
            .text((d) => d)
            .attr('x', (d, i) => i * 60 + 25)
            .attr('y', (d) => svgHeight - d + 15)
            .attr('text-anchor', 'middle'); // text-anchor = 텍스트 위치 정의 속성
    </script>
</body>
</html>